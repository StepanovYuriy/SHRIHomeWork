# SHRIHOMEWORKIII-908 - Localization

## Общие пояснения к работе

Все файлы, относящиеся к этому домашнему заданию, находятся в папке [`/10-785-TypeScript`](../10-785-TypeScript)

[Инструкция по запуску приложения](../10-785-TypeScript/README.md)

### Локализация

Не все части интерфейса были переведены на русский язык.
Некоторые элементы (например, placeholder) были сознательно оставлены на английском языке, т.к. переведённые тексты, на мой взгляд, больше вводили бы в заблуждение, чем подсказывали.
Правильно это или нет - это уже другой вопрос, который было бы неплохо осветить при разборе домашнего задания.

## i18next

Для упрощения процесса интернационализации и локализации приложения используется готовое решение [i18next](https://www.i18next.com/).

Ключевым критерием выбора этого набора пакетов было наличие отличной документации, по которой удалось настроить все необходимые процессы максимально быстро и понятно.

Также это позволило решить сразу 3 проблемы: интеграция в React-приложение на функциональных компонентах и хуках, определение языка пользователя и загрузка только нужного языка пользователя.

Логирование работы i18next оставлено для облегчения проверки

## Ответы на вопросы

> Как приложение узнает, какой язык выбран у пользователя?

Для определения языка используется готовое решение LanguageDetector из пакета 'i18next-browser-languagedetector'.
Максимально простое единое подключение в 2 строчки, с большими возможностями для конфигурирования

> Какие типы контента поддерживают переключение языка и как вы это реализовали?

Поддерживаются строковый тип контента и даты. 
Реализовано с помощью i18next и date-fns/locale

> Как переводы попадают на клиент? Как изменилась сборка приложения?

Все нужные переводы (en, ru) и любые другие, которые понадобятся, размещаются в папке public/locales/ в json формате. 
При сборке файлы с переводами перемещаются в папку build "как есть". 
Далее при загрузке приложения на клиенте определяется язык пользователя и загружается только нужный перевод.
На время первоначальной загрузки основного перевода добавлен Spinner.
Таким образом сборка приложения концептуально не изменилась.

___

Общий файл [README.md](../README.md) для всех домашних работ.
